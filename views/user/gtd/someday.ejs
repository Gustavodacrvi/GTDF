<!doctype html>


<html lang='<%= __("_lang") %>'>

<head>
    <title>Someday</title>
    <% include ../../partials/head %>
</head>

<body>
<section id='background'>

<% include ../../partials/user-forms %>

<div id='body'>
    <% include ../../partials/menu %>
    <% include ../../partials/menu-vertical %>
    <div id='content'>
        <div id='content__cards' class='slide--effect--right'>
            <div style='height: 50px'></div>
            <div class='card action--bar alignContent'>
                <button class='reset--button' data-title='<%= __("add_action") %>' @click='cleanActionData();openUserForm("addSimpleActionForm");v.actionData.tag = "maybe"'><i class='fa fa-plus icon action--icon user--icon'></i></button>
            </div>
                <template v-if='v.user'>
                    <template v-if='v.projects'>
                    <template v-for='j in v.projects.length'>
                        <template v-for='i in v.projects[j - 1].actions.length'>
                        <template v-if='displayProjectAction(v.projects[j - 1].actions[i - 1].id).tag === "maybe"'>
                            <div class='action'>
                                <div class='card action__header alignContent'>
                                    <div class='action__title alignContent'>
                                        <span class='text'>{{ displayProjectAction(v.projects[j - 1].actions[i - 1].id).project.title}}<span class='dark--text'> | </span>{{ displayProjectAction(v.projects[j - 1].actions[i - 1].id).project.order }} <span class='dark--text'> | </span> {{ displayProjectAction(v.projects[j - 1].actions[i - 1].id).title }}</span>
                                    </div>
                                    <div class='actionButtonDropdown rowReversed'>
                                        <button class='reset--button'><i class="fas fa-ellipsis-v icon action--icon"></i></button>
                                        <div class='rowReversed'>
                                            <div class='action__buttons rowReversed'>
                                                <button class='reset--button' data-title='<%= __("_delete_action") %>' @click='cleanActionData();deleteProjectAction(v.projects[j - 1].actions[i - 1].id)'><i class='fa fa-times icon action--icon user--icon'></i></button>
                                                <button class='reset--button' data-title='<%= __("_edit_action") %>' @click='cleanActionData();getDataFromAction(displayProjectAction(v.projects[j - 1].actions[i - 1].id));openUserForm("editProjectAction");hideAllSelectionBars()'><i class='fa fa-edit icon action--icon user--icon'></i></button>
                                                <button class='reset--button' data-title='<%= __("add/edit_tag") %>' @click='cleanActionData();getDataFromAction(displayProjectAction(v.projects[j - 1].actions[i - 1].id));openUserForm("add_changeTags");selectTagForm("" + v.user[i - 1].tag);hideAllSelectionBars()'><i class='fa fa-tag icon action--icon user--icon'></i></button>
                                                <button class='reset--button' data-title='<%= __("remove_from_project") %>' @click='cleanActionData();getDataFromAction(displayProjectAction(v.projects[j - 1].actions[i - 1].id));removeFromProject(v.projects[j - 1].actions[i - 1].id, v.projects[j - 1].id)'><i class="fas fa-external-link-alt icon action--icon user--icon"></i></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class='action__content card'>
                                    <span class='text'> {{ displayProjectAction(v.projects[j - 1].actions[i - 1].id).description }} </span>
                                </div>
                            </div>
                        </template>
                        </template>
                    </template>
                    </template>
                    <template v-for='i in v.user.length'>
                    <template v-if='!v.user[i - 1].project'>
                        <template v-if='v.user[i - 1].tag == "maybe"'>
                            <div class='action'>
                                    <div class='card action__header alignContent'>
                                    <div class='action__title alignContent'>
                                        <span class='text'> {{ v.user[i - 1].title }}</span>
                                    </div>
                                    <div class='actionButtonDropdown rowReversed'>
                                        <button class='reset--button'><i class="fas fa-ellipsis-v icon action--icon"></i></button>
                                        <div class='rowReversed'>
                                            <div class='action__buttons rowReversed'>
                                                <button class='reset--button' data-title='<%= __("_delete_action") %>' @click='cleanActionData();deleteAction(v.user[i - 1].id);hideAllSelectionBars()'><i class='fa fa-times icon action--icon user--icon'></i></button>
                                                <button class='reset--button' data-title='<%= __("_edit_action") %>' @click='cleanActionData();getDataFromAction(v.user[i - 1]);openUserForm("editAction");hideAllSelectionBars()'><i class='fa fa-edit icon action--icon user--icon'></i></button>
                                                <button class='reset--button' data-title='<%= __("add/edit_tag") %>' @click='cleanActionData();getDataFromAction(v.user[i - 1]);openUserForm("add_changeTags");selectTagForm("" + v.user[i - 1].tag);hideAllSelectionBars()'><i class='fa fa-tag icon action--icon user--icon'></i></button>
                                                <button class='reset--button' data-title='<%= __("projects") %>' @click='cleanActionData();getDataFromAction(v.user[i - 1]);openUserForm("actionToProject");v.projectData.title = "<%= __("select_project") %>:";showMainOptionSelectionBars()'><i class="fas fa-project-diagram icon action--icon user--icon"></i></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class='action__content card'>
                                    <span class='text'> {{ v.user[i - 1].description }} </span>
                                </div>
                            </div>
                        </template>
                    </template>
                    </template>
                </template>
                <div style='height: 100px'></div>
        </div>
        <div id='content__ads'>
        </div>
    </div>
</div>


</section>
<% include ../../partials/footer %>
<script>
    actions.getUser()
</script>
</body>

</html>